import folium

line_segments = [
    # ((34.958242, 137.143170), (34.958405, 137.143268)),  # 自宅 テスト用ライン１
    # ((34.958263, 137.143110), (34.958422, 137.143223)),  # 自宅 テスト用ライン２
    # ((34.958177, 137.143282), (34.958190, 137.143408)),  # 自宅 テスト用ライン１
    # ((34.958229, 137.143353), (34.958422, 137.143223)),  # 自宅 テスト用ライン２
    # ((35.222120, 138.903772), (35.222156, 138.903682)),  # 東富士 第二水直 南側
    # ((35.228230, 138.907711), (35.228202, 138.907791)),  # 東富士 第二水直 北側
    # ((35.227363, 138.898499), (35.227162, 138.898976)),  # 東富士第1周回路 南バンク
    # ((35.229320, 138.907466), (35.229140, 138.907891)),  # 東富士第1周回路 南バンク
    # ((35.231023, 138.889509), (35.231027, 138.889901)),  # 東富士第3周回路 内周路１
    # ((35.232067, 138.888676), (35.231789, 138.888647)),  # 東富士第3周回路 内周路２
    # ((35.232486, 138.887550), (35.232614, 138.887853)),  # 東富士第3周回路 内周路３
    # ((35.233201, 138.886413), (35.232819, 138.886490)),  # 東富士第3周回路 内周路４
    # ((35.234496, 138.885182), (35.234388, 138.885701)),  # 東富士第3周回路 内周路５
    # ((35.235484, 138.885094), (35.235492, 138.885678)),  # 東富士第3周回路 内周路６
    # ((35.233363, 138.888180), (35.233004, 138.888113)),  # 東富士第3周回路 内周路７
    # ((35.231023, 138.889509), (35.231027, 138.889901), 0),  # 東富士第3周回路 内周路１
    ((35.230841, 138.889401), (35.230813, 138.889936), 0),  # 東富士第3周回路 内周路１
    # ((35.232067, 138.888676), (35.231789, 138.888647), 0),  # 東富士第3周回路 内周路２
    ((35.232091, 138.888844), (35.231729, 138.888825), 0),  # 東富士第3周回路 内周路２
    # ((35.232486, 138.887550), (35.232614, 138.887853), 0),  # 東富士第3周回路 内周路３
    ((35.232522, 138.887481), (35.232571, 138.887966), 0),  # 東富士第3周回路 内周路３
    # ((35.233201, 138.886413), (35.232819, 138.886490), 0),  # 東富士第3周回路 内周路４
    ((35.233258, 138.886680), (35.232938, 138.886735), 0),  # 東富士第3周回路 内周路４
    # ((35.234496, 138.885182), (35.234388, 138.885701), 0),  # 東富士第3周回路 内周路５
    ((35.234392, 138.885085), (35.234292, 138.885730), 0),  # 東富士第3周回路 内周路５
    ((35.235484, 138.885094), (35.235492, 138.885678), 0),  # 東富士第3周回路 内周路６
    ((35.233363, 138.888180), (35.233004, 138.888113), 0),  # 東富士第3周回路 内周路７
    # 必要に応じて追加
]


# 中心座標を計算
center_lat = sum(p1[0] + p2[0] for p1, p2, *_ in line_segments) / (2 * len(line_segments))
center_lon = sum(p1[1] + p2[1] for p1, p2, *_ in line_segments) / (2 * len(line_segments))

# Folium地図の作成
m = folium.Map(location=[center_lat, center_lon], zoom_start=16)

# ラインを地図に追加
for i, (p1, p2, *_) in enumerate(line_segments, start=1):
    folium.PolyLine([p1, p2], color="red", weight=3, opacity=0.8).add_to(m)
    
    # ラインの中心座標を計算
    mid_lat = (p1[0] + p2[0]) / 2
    mid_lon = (p1[1] + p2[1]) / 2

    # 番号ラベルを追加
    folium.Marker(
        location=[mid_lat, mid_lon],
        icon=folium.DivIcon(
            html=f'<div style="font-size: 12pt; color: black; font-weight: bold;">{i}</div>'
        )
    ).add_to(m)

# 地図を保存
m.save("map.html")

# Jupyter Notebookの場合
m